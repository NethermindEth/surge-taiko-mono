#!/bin/sh

# This script is only used by `pnpm test:deploy:l1`.
set -e

export PRIVATE_KEY=0xbcdf20249abf0ed6d944c0288fad489e33f66b3960d9e6229c1cd214ed3bbe31
L2_SIGNAL_SERVICE=0x1000777700000000000000000000000000000007 \
OLD_FORK_TAIKO_INBOX=0x0000000000000000000000000000000000000000 \
TAIKO_ANCHOR_ADDRESS=0x1000777700000000000000000000000000000001 \
L2_SIGNAL_SERVICE=0x1000777700000000000000000000000000000007 \
CONTRACT_OWNER=0x60997970C51812dc3A010C7d01b50e0d17dc79C8 \
PROVER_SET_ADMIN=0x60997970C51812dc3A010C7d01b50e0d17dc79C8 \
SHARED_RESOLVER=0x0000000000000000000000000000000000000000 \
L2_GENESIS_HASH=0x00e5e4522f1520280092094a73023c0fc52c2d032d91b3a09c03a375f6afa826 \
PAUSE_BRIDGE=false \
FOUNDRY_PROFILE="layer1" \
DEPLOY_PRECONF_CONTRACTS=true \
PRECONF_INBOX=false \
INCLUSION_WINDOW=24 \
INCLUSION_FEE_IN_GWEI=100 \
forge script ./script/layer1/based/DeployProtocolOnL1.s.sol:DeployProtocolOnL1 \
    --fork-url $FORK_URL \
    --broadcast \
    --ffi \
    -vv \
    --private-key $PRIVATE_KEY \
    --block-gas-limit 200000000
